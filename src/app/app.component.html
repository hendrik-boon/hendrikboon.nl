<app-navbar></app-navbar>
<!-- Page Content-->
<div class="container-fluid p-0">
  <!-- About-->
  <section class="resume-section" id="about">
    <div class="resume-section-content">
      <h1 class="mb-0">
        Hendrik <span class="text-primary">Boon</span>
      </h1>
      <div class="subheading mb-5">
        Potsdam, Germany
        <a href="mailto:hendrik.boon@gmail.com">hendrik.boon&#64;gmail.com</a>
      </div>
    </div>
  </section>

  <!-- Strava-->
  <section class="resume-section" id="strava_stats">
    <div class="resume-section-content">
      <h2 class="mb-5 text-center">
        <i class="fas fa-running me-4" style="color: #e74c3c;"></i>
        <i class="fas fa-bicycle me-4" style="color: #f39c12;"></i>
        Strava stats year to date
      </h2>

      <!-- Loading / Error -->
      @if (stravaLoading) {
        <div class="text-center py-5 text-muted fs-4">Loading latest stats from Strava…</div>
      }
      @if (stravaError) {
        <div class="alert alert-warning text-center">
          Stats temporarily unavailable —
          <a href="https://www.strava.com/athletes/74736765" target="_blank">view on Strava →</a>
        </div>
      }

      <!-- Stats Grid -->
      @if (stats && !stravaLoading && !stravaError) {
        <div class="row g-5 justify-content-center">
          <!-- RUNNING -->
          <div class="col-lg-6">
            <div class="card h-100 border-0 shadow-sm text-center hover-lift transition-all">
              <div class="card-body py-5">
                <h3 class="card-title mb-4 fs-3 text-dark fw-medium">
                  <i class="fas fa-running me-2" style="color: #e74c3c;"></i> Running – YTD
                </h3>
                <p class="display-3 fw-bold mb-0 text-muted">
                  {{ stravaService.formatDistance(stats.ytd_run_totals.distance) }}
                  <small class="fs-4 text-muted fw-normal">km</small>
                </p>
                <div class="row text-muted mt-4 fs-5">
                  <div class="col-4">
                    <strong class="fs-4">{{ stats.ytd_run_totals.count }}</strong><br><small>runs</small>
                  </div>
                  <div class="col-4">
                    <strong class="fs-4">{{ stats.ytd_run_totals.elevation_gain.toFixed(0) }}</strong><br><small>m ↑</small>
                  </div>
                  <div class="col-4">
                    <strong class="fs-4">{{ stravaService.formatMovingTime(stats.ytd_run_totals.moving_time) }}</strong><br><small>moving time</small>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- CYCLING -->
          <div class="col-lg-6">
            <div class="card h-100 border-0 shadow-sm text-center hover-lift transition-all">
              <div class="card-body py-5">
                <h3 class="card-title mb-4 fs-3 text-dark fw-medium">
                  <i class="fas fa-bicycle me-2" style="color: #f39c12;"></i> Cycling – YTD
                </h3>
                <p class="display-3 fw-bold mb-0 text-muted">
                  {{ stravaService.formatDistance(stats.ytd_ride_totals.distance) }}
                  <small class="fs-4 text-muted fw-normal">km</small>
                </p>
                <div class="row text-muted mt-4 fs-5">
                  <div class="col-4">
                    <strong class="fs-4">{{ stats.ytd_ride_totals.count }}</strong><br><small>rides</small>
                  </div>
                  <div class="col-4">
                    <strong class="fs-4">{{ stats.ytd_ride_totals.elevation_gain.toFixed(0) }}</strong><br><small>m ↑</small>
                  </div>
                  <div class="col-4">
                    <strong class="fs-4">{{ stravaService.formatMovingTime(stats.ytd_ride_totals.moving_time) }}</strong><br><small>moving time</small>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      }

      <!-- Strava Link -->
      <div class="text-center mt-5">
        <a href="https://www.strava.com/athletes/74736765" target="_blank" class="btn btn-outline-secondary btn-lg px-5">
          <i class="fab fa-strava me-2"></i> Full Profile on Strava
        </a>
      </div>
    </div>
  </section>

  <!-- GitHub Section -->
  <section class="resume-section" id="github">
    <div class="resume-section-content text-center py-5">
      <h2 class="mb-4">
        <i class="fab fa-github fa-2x text-dark mb-3"></i><br>
        Source code & projects
      </h2>
      <p class="lead mb-4">
        This entire website is open source.
      </p>
      <a href="https://github.com/hendrik-boon" target="_blank" class="btn btn-dark btn-lg px-5">
        <i class="fab fa-github me-2"></i> github.com/hendrik-boon
      </a>

      <p class="text-muted mt-2 mb-0">
        <small>
          Feel free to <strong>star</strong> ⭐, <strong>fork</strong> or open an issue<br>
        </small>
      </p>
    </div>
  </section>

  <hr class="m-0"/>
  <!-- Old website-->
  <section class="resume-section" id="old_website">
    <div class="resume-section-content">
      <h2 class="mb-5">For good old vibes</h2>
      <div class="subheading mb-3">
        <a href="https://www.hendrikboon.nl/old">the old website</a>
      </div>
    </div>
  </section>

  <hr class="m-0"/>
  <!-- Footer-->
  <footer class="fixed-bottom bg-light text-center py-2 text-muted small border-top shadow-sm">
    <div class="container">
      © Hendrik Boon {{ currentYear }} • Latest:
      @if (latestRelease) {
      <a [href]="latestRelease.html_url" target="_blank" class="text-primary">
        {{ latestRelease.tag_name }}
      </a>
      ({{ githubReleaseService.formatDate(latestRelease.published_at) }})
      }
      @else {
      <span>—</span>
      }
    </div>
  </footer>
</div>
